<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Criando um Chat Realtime com CEAN Stack (Couchbase, Express, Angular2 e Node) e Socket.io - Parte 2 - Front-end</title>
    <meta name="description" content="Esse artigo é a segunda parte do artigo anterior, quando criamos o Back-end, configuramoso Socket.io no servidor e criamos um Front-end bem simples usando ne...">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="http://blini.io/criando-um-chat-realtime-com-cean-stack-couchbase-express-angular2-e-node-e-socketio-part-2">
    <link rel="alternate" type="application/rss+xml" title="blini.io - JavaScript, AngularJS, Ionic, PWA, Node, Express, .NET e tudo sobre web" href="http://blini.io /feed.xml
    ">

    <link rel="stylesheet" href="/vendors/bootstrap/css/bootstrap.min.css">

    <!-- Google Fonts -->
    <link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,700italic,400italic" rel="stylesheet" type="text/css">

    <!-- Font awesome -->
    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    
    
    <!-- KaTeX -->
	

    <meta property="og:title" content="Criando um Chat Realtime com CEAN Stack (Couchbase, Express, Angular2 e Node) e Socket.io - Parte 2 - Front-end" />
    <meta property="og:image" content="http://blini.io/img/blini.io-share.png">
    <meta property="og:image:type" content="image/jpeg">
    <meta property="og:image:width" content="200">
    <meta property="og:image:height" content="200">
</head>

<body>
    <!-- ./wrap-all -->
    <div class="wrap-all">
        <header class="site-header">
    
    <nav class="navbar navbar-inverse">
        <div class="container-fluid">
            <div class="navbar-header">
                <button class="navbar-toggle menu-icon" data-toggle="collapse" data-target="#mainMenu">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <img class="vertical" src="/img/logo-site-vertical.png?v=1.0.0" alt="">
                <a class="navbar-brand" href="/">
                    <img src="/img/logo-site-horizontal.png?v=1.0.0" alt="">
                </a>
                <!--<a href="" class="navbar-brand">Felipe Blini</a>-->
            </div>
            <div class="navbar-collapse collapse" id="mainMenu">
                <ul class="nav navbar-nav navbar-right">
                    
                        
                            <li><a href="/cursos/">Cursos</a></li>
                        
                    
                        
                            <li><a href="/about/">Sobre</a></li>
                        
                    
                    
                    
                    
                            
                    <!-- Change language drop down mobile version-->
                    <li role="presentation" class="dropdown visible-xs-block">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
                            <span class="flag-icon flag-icon-br"></span> pt</span> <span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu">
                            
                            
                                
                                    
                                 
                                    
                                        <li>
                                            <a href="#" class="disabled"><span class="flag-icon flag-icon-us-desactivate"></span> en</span></a>
                                        </li>
                                    
                                    
                            
                        </ul>
                    </li>
                        
                    <!-- Option to change language in big screens-->
                    <li class="hidden-xs language-control">
                        <div class="btn-group">
                            <button type="button" class="btn btn-default btn-large">
                                <span class="flag-icon flag-icon-br"></span> pt</span>
                            </button>
                            <button type="button" class="btn btn-default byn-large dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <span class="caret"></span>
                                <span class="sr-only">Toggle Dropdown</span>
                            </button>
                            <ul class="dropdown-menu">
                                
                                    
                                        
                                    
                                        
                                            <li>
                                                <a href="#" class="disabled"><span class="flag-icon flag-icon-us-desactivate"></span> en</span></a>
                                            </li>
                                        
                                       
                                
                            </ul>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

</header>

        <!-- content -->
        <div class="content">
            <article  class="feature-image" >
  <header style="background-image: url('/img/chat.png?v=4')">
    <h1 class="title">Criando um Chat Realtime com CEAN Stack (Couchbase, Express, Angular2 e Node) e Socket.io - Parte 2 - Front-end</h1>
    <p class="meta">
        
            



<img src="img/calendar2.png">
14 de
Fevereiro
     de 
2017
        
        
        



<img src="img/time.png">
16
minuto(s) de leitura
        
        
    </p>
  </header>
  <section class="post-content container"><p>Esse artigo é a segunda parte do artigo anterior, quando criamos o <em>Back-end</em>, configuramos
o <strong>Socket.io</strong> no servidor e criamos um <em>Front-end</em> bem simples usando nenhum <em>framework</em> e
configuramos o <strong>Socket.io</strong> no cliente através da biblioteca <strong>socket.io-client.js</strong>.
Nesse artigo veremos como criar o mesmo <em>Front-end</em> bem simples mas agora com <strong>Angular 2</strong>.</p>

<p>Existem diversas maneiras de inicializar um projeto em Angular 2, nesse artigo vamos usar
o <a href="https://cli.angular.io/">Angular CLI</a>.</p>

<p>O  Angular CLI deve ser instalado globalmente na sua máquina através do <strong>NPM</strong> como é
mostrado no site oficial: <a href="https://cli.angular.io/">https://cli.angular.io/</a></p>

<p><code>$ npm install -g angular-cli</code></p>

<p>Como já definimos e configuramos na <a href="http://blini.io/criando-um-chat-realtime-com-cean-stack-couchbase-express-angular2-e-node-e-socketio-part-1">primeira parte desse artigo</a>
a pasta <code>public</code> como o local onde nosso Front-end residirá, vamos abrir esta pasta
no terminal e inicializar um novo projeto <strong>Angular</strong> com ajuda do seu <strong>CLI</strong>.</p>

<p>Se você não acompanhou o artigo anterior, você pode fazer o download do código que criamos lá
através <a href="https://github.com/felipeblini/CEAN-Stack-and-Socket.io-chat-tutorial-part1">deste repositório do GitHub</a>.</p>

<p>Abra a pasta do projeto no terminal e navegue para a pasta <code>public</code>:</p>

<p><code>$ cd public</code></p>

<p>Aqui vamos inicializar um novo projeto Angular 2. Para simplificar esse exemplo não vamos
gerar arquivos de teste e nem configurar o <code>git</code>. Eu costumo pular o instalação dos pacotes
<strong>NPM</strong> também pois eu prefiro usar o <a href="https://yarn.com">yarn</a>.
Vamos também dar o nome de <code>cean-frontend</code> para a nossa
aplicação Angular. O CLI do Angular nós dá 2 comandos para iniciar um novo projeto:</p>

<ul>
  <li><code>ng init</code>: cria um novo projeto na pasta atual.</li>
  <li><code>ng new</code>: cria uma nova pasta com o nome da aplicação e roda o <code>ng init</code> dentro dela.</li>
</ul>

<p>Vamos usar o <code>ng init</code> já que não queremos que o Angular gere uma nova pasta para nós. Mas
antes de rodar esse comando precisamos renomear o arquivo <code>package.json</code> que temos na raiz 
do projeto Express, pois o Angular CLI, antes de gerar o código, verifica a existência de 
qualquer arquivo <code>package.json</code> na estrutura de pastas, e se caso houver ele usa este como 
sendo o seu arquivo de pacotes padrão, tenta sobrescrevê-lo e cria o projeto na mesma pasta dele.
Então, para contornar isso, vamos renomear temporariamente este arquivo para <code>_package.json</code>.
Outra coisa que devemos fazer é apagar o <code>html</code> e o <code>js</code> que criamos no artigo anterior dentro
da pasta <code>public</code>.</p>

<p>A estrutura do projeto até agora está assim:</p>

<p><img src="img/cean-stack-structure.jpg" alt="img cean-stack-structure.jpg" /></p>

<p>A pasta <code>public</code> está vazia e o <code>package.json</code> renomeado.
Agora sim, dentro pasta <code>public</code> podemos rodar o <code>ng-init</code> no terminal:</p>

<p><code>$ ng init -n cean-frontend --skip-test --skip-git --skip-npm</code></p>

<p>Isso vai gerar todo o código inicial do Angular que precisamos. Pode excluir a pasta <code>e2e</code>
e os arquivos <code>karma.conf.js</code> e <code>protractor.conf.js</code> já que não vamos trabalhar testes aqui.
Agora também devemos renomear de volta <code>package.json</code> da raiz do nosso projeto,
retirando o <em>underline</em> que colocamos anteriormente.</p>

<p>Se você usou a <em>flag</em> <code>--skip-npm</code> agora você deve instalar os pacotes, eu uso o <code>yarn</code> para isso:</p>

<p><code>$ yarn</code></p>

<p>O yarn roda em cima do npm. Caso você não o tenha instalado na sua máquina você pode
instalá-lo globalmente através do próprio npm.</p>

<p><code>$ npm install -g yarn</code></p>

<p>Se você prefere usar o NPM direto use <code>$ npm install</code> ou não use a <em>flag</em> <code>--skip-npm</code> no momento
do <em>scaffolding</em> do projeto que o CLI instala todos os pacotes automaticamente.</p>

<p>Com as dependências instaladas podemos rodar nosso front, também utilizando o CLI para isso,
na pasta <code>public</code> rode o comando:</p>

<p><code>$ ng serve -o</code></p>

<p>Isso vai acionar o <strong>Webpack</strong> que está embutido dentro do Angular CLI, que vai compilar
todo o código <strong>TypeScript</strong> em <strong>ES5</strong> e carregar todos os módulos que estão sendo
importados a partir do arquivo <code>main.ts</code> por diante, vai minificar e agrupar todos os
arquivos em <em>bundles</em> e os servir pra nós em memória no nosso ambiente de <code>dev</code>. A <em>flag</em> <code>-o</code>
faz com que o CLI abra o navegador com a aplicação rodando, e ainda qualquer alteralçao no
código será refetida no navegador sem a necessidade de dar um <em>refresh</em>:</p>

<h4 id="app-works">app works!</h4>

<p>É claro que precisaremos de um processo de <em>build</em> para produção, fique tranquilo(a),
vamos ver isso mais adiante.</p>

<p>Agora com o front rodando vamos customizá-lo.</p>

<h2 id="componentes-em-angular">Componentes em Angular</h2>

<p>O Angular 2 é totalmente baseado em <a href="https://www.w3.org/wiki/WebComponents/">Web Components</a>.
Web Component é a <strong>“combinação”</strong> de um <strong>template HTML</strong> com um <strong>JS</strong>
e <strong>opcionalmente</strong> um ou mais <strong>estilos CSS</strong> e que podem ser facilmente testados, usados
e reusados por toda a aplicação. No caso do Angular 2, os componentes são
escrito por default em <strong>TypeScript</strong>, tendo a opção também de escrever em JavaScript puro.
Cada arquivo <code>.ts</code> de um componente em Angular pode ter seu template e um estilo css definidos
inline através das propriedades <code>template</code> e <code>style</code> definidas no <em>decorator</em> <code>@Componet</code>
ou podem estar em arquivos separados referenciados nas propriedades <code>templateUrl</code> e o <em>array</em>
<code>styleUrls</code>. Também é passado como propriedade o <strong>seletor html</strong> desse
componente. E é assim que criamos um componente em Angular 2.</p>

<p>O <em>boilerplate</em> que o CLI nos gerou vem com o componente principal da aplicação, pois como já
dito anteriormente tudo é componente em Angular 2, inclusive a nossa aplicação também é um
componente, pai de todos os outros componentes e também tem o seu seletor. Se você abrir
o arquivo <code>app.component.ts</code> vai ver que o seletor está definido como <code>app-root</code>. E se você for
adiante e abrir o <code>index.html</code> vai ver que o <code>app-root</code> está sendo invocado lá, e é lá que
nossa aplicação inteira vai rodar.</p>

<p>Vamos criar o component <code>Chat</code> com ajuda do CLI. No terminal, pare o servidor com <code>ctrl + c</code>
e ainda na pasta <code>public</code>, use o seguinte comando:</p>

<p><code>$ ng generate component chat</code></p>

<p>Isso vai criar um componente com o nome <code>Chat</code> no lugar certo na estrutura da nossa aplicação e
seguindo a nomenclatura e convenção do Angular: dentro da pasta <code>app</code> e dentro de uma pasta
nova chamada <code>chat</code>. Como mostrado abaixo:</p>

<p><img src="img/chat-component.jpg" alt="img chat-component.jpg" /></p>

<p>Se você abrir o arquivo <code>chat.component.ts</code> vai notar que o seletor desse component é <code>app-chat</code>.
Então vamos abrir o template do nosso componente principal, <code>app.component.html</code>, e
substituir:</p>

<pre><code class="language-markup">&lt;h1&gt;
  &#123;&#123;title}}
&lt;/h1&gt;
</code></pre>

<p>Por:</p>

<pre><code class="language-markup">&lt;app-chat&gt;&lt;/app-chat&gt;
</code></pre>

<p>E em <code>chat.component.css</code>, estilize o elemento <code>p</code> do nosso novo componente:</p>

<pre><code class="language-css">p {
    font-size: 36px;
    font-weight: bold;
}
</code></pre>

<p>Rode o servidor denovo <code>$ ng server -o</code> e se tudo estiver certo você vai ver no navegador
o texto:</p>

<h4 id="chat-works">chat works!</h4>

<p>Pronto, nosso componente filho está sendo renderizado na tela. Agora vamos customizá-lo
e deixá-lo com a mesma cara do <em>Front-end</em> anterior.</p>

<h2 id="customizando-o-componente">Customizando o Componente</h2>

<p>Em <code>app.component.html</code> substitua o código por:</p>

<pre><code class="language-markup">&lt;ul id="messages"&gt;
    &lt;li *ngFor="let msg of messages"&gt;&#123;&#123; msg }}&lt;/li&gt;
&lt;/ul&gt;
&lt;form action=""&gt;
    &lt;input [(ngModel)]="chatBox" name="chatBox" autocomplete="off" /&gt;
    &lt;button (click)="send()"&gt;Enviar&lt;/button&gt;
&lt;/form&gt;
</code></pre>

<p>O que está sendo feito no código acima é a criação de uma lista <code>ul</code> de mensagens sendo que o 
<code>li</code> está sendo repetido para cada mensagem dentro do <em>array</em> chamado <code>messages</code> que será
definido e populado no JavaScript deste componente, criando assim o <em>data binding</em> entre o template
e o código JavaScript. Utilizamos a diretiva *ngFor do Angular 2 para fazer essa “cola” (bind)
e percorrer o <em>array</em>.</p>

<p>O segundo elemento html é um formulário com um <code>input</code> do tipo texto chamado <code>chatBox</code> também
“colado” ao JavaScript através do <code>ngModel</code>. Esta “cola” é do tipo <em>two-way-databind</em>
pois englobamos o <code>ngModel</code> entre colchetes e parênteses <code>[()]</code>, assim toda vez que o valor
dessa propriedade mudar, em qualquer lugar, será refletido tanto no HTML quanto no JS.</p>

<p>Também criamos um botão “Enviar” com o seu evento <code>click</code> “colado” a um manipulador chamado
<code>send</code> que é uma função que recebe o valor atual do <code>input</code> <code>chatBox</code>.</p>

<p>Em <code>app.component.css</code>, estilize nosso componente da seguinte forma:</p>

<pre><code class="language-css">#messages,* { margin:0;padding:0 }
* { box-sizing:border-box }
body { font:13px Helvetica, Arial }
form { background:#000; padding:3px; position:fixed; bottom:0; width:100% }
form input { border:0; padding:10px; width:90%; margin-right:.5% }
form button{ width:9%; background:#82e0ff; border:none; padding:10px } 
#messages { list-style-type:none }
#messages li { padding:5px 10px}
#messages li:nth-child(odd) { background:#eee }
</code></pre>

<p>Estes html e css foram retirados da <a href="http://socket.io/docs/">documentação do Socket.io</a> e
adaptados para esse artigo.</p>

<p>As diretivas de formulário do Angular (<code>ngModel</code>, <code>click</code>, <code>*ngFor</code>, etc) usadas acima
dependem de <strong>módulos do Angular</strong> que devem ser importados no módulo pai do componente
que os está usando. O módulo pai do nosso componente é o módulo principal da aplicação - a
classe <code>AppModule</code> - definida em <code>app.module.ts</code>.
O comando do CLI usado para gerar o componente já faz essa importação
para a gente. Se você abrir o arquivo <code>app.module.ts</code> vai ver que o <strong>ChatComponent</strong>
está sendo importado lá e inserido no <em>array</em> <strong>declarations</strong> assim como o módulo
<strong>FormsModule</strong>, responsável pelas direticas em questão, também está sendo importado e
declarado em <code>imports</code>. O <strong>HttpModule</strong> também está presente, vamos usá-lo mais pra frente.</p>

<p>No nosso template o botão “Enviar” invoca uma função chamada <code>send</code> e a nossa lista <code>&lt;ul&gt;</code>
repete um <em>array</em> chamado <code>messages</code>. Bora alterar a classe do nosso componente para atender
esses requisitos então. Abra o arquivo <code>chat.component.ts</code> e deixe-o assim:</p>

<pre><code class="language-javascript">import { Component, OnInit } from '@angular/core';

@Component({
  selector: 'app-chat',
  templateUrl: './chat.component.html',
  styleUrls: ['./chat.component.css']
})
export class ChatComponent implements OnInit {

  // propriedades do view model
  messages: Array&lt;String&gt;;
  chatBox: String;

  constructor() {
    // valores iniciais para as propriedades
    this.messages = [];
    this.chatBox = "";
  }

  // function send()
  send() {
    if(!this.chatBox)
      return;
      
    console.log('sending message:', this.chatBox);
    this.messages.push(this.chatBox);
    this.chatBox = "";
  }

  ngOnInit() {
    console.log('chat.component initialized');
  }
}
</code></pre>

<p>No código acima primeiro <strong>criamos as propriedades</strong> <code>messages</code> do tipo <em>array</em> de <code>Strings</code> e a
<code>chatBox</code> do tipo <code>String</code>. Atribuímos <strong>valores iniciais</strong> a elas no Construtor da classe e
criamos o método <code>send</code> que checa se a propriedade <code>chatBox</code> tem um valor, se esta condição
for verdadeira, <strong>inclui o valor no array</strong> <code>messages</code>, e a propriedade <code>chatBox</code> é
<strong>reinicializada com um valor vazio</strong>. Como o array <code>messages</code> está vinculado ao elemento
<code>&lt;li&gt;</code> do template através do <code>*ng-for</code> e a propriedade <code>chatBox</code> vinculada ao <code>input</code> no
template através do <code>ngModel</code>, <strong>essas mudanças se refletirão na tela</strong> e tudo funcionará
como esperado.</p>

<p>Se você abrir o <em>Front-end</em> agora, tudo deverá estar funcionando, porém agora em Angular 2.
Digite um texto no campo e clique no botão “Enviar”. As mensagens enviadas irão aparecer
na tela uma após a outra com cores de linha alternadas.</p>

<p>Agora precisamo fazer a parte do Socket.io funcionar como antes, como pode ser visto
<a href="criando-um-chat-realtime-com-cean-stack-couchbase-express-angular2-e-node-e-socketio-part-1#funcionar-como-antes">
no final do último post</a>, para sermos capazes de enviar e receber mensagens de e para outros <em>sockets</em>
conectados, só que agora no Angular 2 também.</p>

<h2 id="criando-um-cliente-do-socketio-no-angular-2">Criando um cliente do Socket.io no Angular 2</h2>

<p>Nosso front-end tá quase pronto, agora precisamos usar o Socket.io no método <code>send</code> para enviar a mensagem
em <em>broadcast</em>.</p>

<p>Então pra finalizar nosso Front-end vamos instalar e configurar o <strong><em>client</em> do Socket.io</strong>
nos moldes do Angular 2.</p>

<p>O <code>socket.io-client</code> é uma biblioteca e também está disponível como um módulo no repositório
do npm.</p>

<p>Se você abrir a pasta <code>node_modules</code> dentro da pasta <code>public</code> vai encontrar a pasta <strong>socket.io-client</strong>,
isso significa que ele já está instalado, pois ele <strong>já vem no projeto criado pelo CLI</strong>.
Caso não encontre basta instalá-lo através do npm:</p>

<p><code>$ npm install --save socket.io-client</code></p>

<p>Para utilizarmos essa biblioteca precisamos importá-la em nosso código.</p>

<p>Abra novamente o arquivo <code>chat.component.ts</code> e inclua a seguinte linha após o <code>@angular/core</code>:</p>

<pre><code class="language-javascript">import * as io from 'socket.io-client';</code></pre>

<p>Isso vai <strong>importar todos os métodos e propriedades públicas do módulo</strong>
<code>socket.io-client</code> dentro de uma variável chamada <code>io</code>.</p>

<p>Se você rodar o <code>Front-end</code> agora vai deparar com o erro:
*<em>Cannot find module ‘socket.io-client’</em>**.</p>

<p>Isso acontece pois o Angular, através do <strong>Webpack</strong>, importa módulos em <strong>TypeScript</strong>. No TypeScript nós
temos tipos estático, no <strong>JavaScript</strong> puro não. O socket.io-client é uma biblioteca escrita
em JavaScript puro, então o <strong>Webpack</strong>, que compila e carrega os módulos TypeScript para o
Angular, não consegue fazer seu trabalho pois não encontra nenhum módulo <code>.ts</code> com o nome
<em>socket.io-client</em> e então nenhum módulo com esse nome é encontrado.</p>

<p>Para resolver isso precisamos definir tipos para a biblioteca que queremos usar criando
um arquivo <code>.ts</code> para ela. Se você abrir o arquivo de configuração do TypeScript,
<code>tsconfig.json</code> vai ver a propriedade <code>typeRoots</code> apontando para <code>../node_modules/@types</code>.
É alí que o compilador do TypeScript vai procurar por tipos para bibliotecas importadas
em JavaScripts. Poderíamos criar um novo diretório alí com o nome <strong>socket.io-client</strong> e
um arquivo <code>index.d.ts</code> definindo e exportando esses tipos e o TypeScript saberia o que
compilar. Porém para nos ajudar com isso existe o repositório online <strong>Typings</strong> com essas
definições de tipos para diversas bibliotecas que não são escritas em TypeScript.</p>

<p>Se caso a biblioteca que você precisa não possuir um <em>typing</em> disponível, basta criar um bem
simples em uma pasta com o mesmo nome da biblioteca e um arquivo <code>index.d.ts</code> dentro
<em>fakeando</em> isso.</p>

<p>O socket.io-client possui um <em>typing</em>, então vamos instalá-lo. Na pasta <code>public</code> rode o comando:</p>

<p><code>$ npm install --save-dev @types/socket.io-client</code></p>

<p>Usamos <code>--save-dev</code> pois precisamos de Typings apenas no ambiente de desenvolvimento, <strong>nenhum
arquivo de Typings e TypeScript vai para produção</strong>, apenas JavaScript, assim não precisamos de Typings
em produção.</p>

<p>Feito isso você pode verificar a instalação.</p>

<p>Abrindo a pasta <code>node_module/@types</code> você verá a
pasta <code>socket.io-client</code> com o arquivo <code>index.d.ts</code> exportando o módulo com todos os tipos.</p>

<p><img src="img/socket.io-client@types.jpg" alt="img socket.io-client@types.png" /></p>

<p>Se você rodar o front novamente verá que o erro sumiu.</p>

<p>Muito bem, agora vamos alterar nosso componente para que cada vez que o método <code>send()</code>
for invocado ele emita o evento <code>mensagem_mano</code> junto com o valor da propriedade <code>chatBox</code>
para todos os sockets conectados.</p>

<p>Na classe do componente <strong>Chat</strong> (<code>chat.component.ts</code>) faça isso:</p>

<pre><code class="language-javascript">import { Component, OnInit } from '@angular/core';
import * as io from 'socket.io-client';

@Component({
  selector: 'app-chat',
  templateUrl: './chat.component.html',
  styleUrls: ['./chat.component.css']
})
export class ChatComponent implements OnInit {

  // propriedades do view model
  messages: Array&lt;String&gt;;
  chatBox: String;

  // -----&gt; nova propriedade
  socket: any; // &lt;-------------

  constructor() {
    // valores iniciais para as propriedades
    this.messages = [];
    this.chatBox = "";

    // ------&gt; Instanciando o Socket.io
    this.socket = io();

    // Sempre que o servidor emitir o evento 'mensagem_mano', o socket do
    // usuário conectado vai capturar esse evento e executar a função callback
    // que adiciona o valor recebido no array de messages
    this.socket.on("mensagem_mano", (msg: string) =&gt; {
      console.log('receiving message:', msg)
      this.messages.push(msg);
    }); // &lt;-----------------
  }

  // function send()
  send() {
    if(!this.chatBox)
      return;

    console.log('sending message:', this.chatBox);
    
    // -------&gt; pede ao servidor para executar o evento 'mensagem_mano'
    // e transmitir 1 parâmetro que vai para todos os usuários
    // conectados, inclusive para quem enviou
    this.socket.emit("mensagem_mano", this.chatBox); // &lt;------------

    this.chatBox = "";
  }

  ngOnInit() {
    console.log('chat.component initialized');
  }
}
</code></pre>

<p>PS: os novos blocos de código incluídos estão entre <code>// -------&gt;</code> e  <code>// &lt;------------</code></p>

<p>Primeiro criamos uma <strong>nova propriedade do tipo</strong> <code>any</code> <strong>chamada</strong> <code>socket</code> e no construtor da
classe <strong>definimos esta propriedade como uma instância de socket.io-client</strong> que importamos
anteriormente dentro da variável <code>io</code>. Ainda no construtor da classe <strong>definimos um ouvinte
para o evento</strong> <code>mensagem_mano</code> que irá capturar todas mensagens transmitidas pelo evento emitido
por qualquer socket, inclusive as mensagens do próprio usuário que a enviou, do mesmo jeito
que fizemos no último código da parte 1 desse artigo. E na função <code>send()</code> ao invés de jogarmos
o valor do <code>chatBox</code> para dentro do array vamos passá-la pra frente e deixar a cargo dos
ouvintes de todos os sockets adicioná-lo ao array.</p>

<p>Para testarmos precisamos do Back-end e do Front-end rodando. O servidor Back-end está
configurado no <strong>Express</strong> para rodar na porta <code>3000</code> e o Angular está rodando “virtualmente”
na porta <code>4200</code>. “Virtualmente” pois o código JavaScript é servido em memória e não fisicamente.</p>

<p>Precisamos gerar fisicamente os arquivos do Angular em <em>bundles</em> e serví-los também na porta
<code>3000</code> como arquivos estáticos através do <strong>Express</strong>. Rodando assim <strong>tanto o Back-end quanto o
Front-end na mesma porta</strong>, o que é um requisito para esse exemplo em específico funcionar.</p>

<p>Para isso precisamos que o nosso Front-end passe por um <strong>processo de build para produção</strong>.</p>

<h3 id="fazendo-o-build-do-angular-para-produo">Fazendo o Build do Angular para Produção</h3>

<p>O <strong>Webpack</strong> é o cara responsável por fazer esse processo.</p>

<p>Se você abrir o arquivo <code>angular-cli.json</code> vai perceber que já existe um processo de
build configurado que será usado pelo Webpack. Analizando a propriedade <code>apps</code> desse arquivo temos:</p>

<ul>
  <li><code>"root": "src"</code>: onde os arquivos de desenvolvimento estão</li>
  <li><code>"outDir": "dist</code>”: em qual pasta os arquivos compilados e prontos para a produção serão gerados</li>
  <li><code>"index": "index.html</code>: em qual arquivo html os <em>bundles</em> com os códigos compilados devem ser injetados</li>
  <li><code>"main": "main.ts"</code>: a partir de qual arquivo o processo de carregamento de módulos e compilação deve iniciar</li>
</ul>

<p>Com essas 4 informações já temos uma idéia de o que o Webpack vai fazer. E para realizar
esse processo de build utilizamos novamente o <strong>CLI do Angular</strong> com o comando <code>ng build</code>.</p>

<p>Então no terminal, dentro da pasta <code>public</code> rodamos o comando com a <em>flag</em> <code>-p</code> informando
que estamos fazendo um build para produção:</p>

<p><code>$ ng build -p</code></p>

<h3 id="rodando-a-aplicao">Rodando a Aplicação</h3>

<p>Com o <em>build</em> finalizado você verá que foram gerados vários <em>bundles</em> para nossos códigos
(<strong>componentes</strong>), para os <em>vendors</em> (<strong>Angular</strong> e <strong>socket.io-client</strong>) e para os estilos <code>css</code>.
E que esses arquivos todos foram gerados dentro de um <strong>nova pasta chamada</strong> <code>dist</code>.</p>

<p>É essa pasta que devemos servir com estática dentro de nossa <em>stack</em>. Então no arquivo <code>app.js</code>
onde configuramos o <strong>Express</strong>, vamos configurar iss como já havíamos
feito para a pasta <code>public</code> colocando <code>/dist</code> na frente</p>

<pre><code class="language-javascript">app.use(express.static(path.join(__dirname, "public", "dist")));</code></pre>

<p>Agora com a pasta configurada, no terminal navegue até a raiz do projeto e rode o servidor
Express:</p>

<p><code>$ node app</code></p>

<p>E acesse <code>http://localhost:3000/</code> em vários navegadores ou abas e envie mensagens de chat
entre eles!</p>

<p>No artigo anterior nós configuramos um <em>end-point</em> no nosso Back-end que nos retorna o
histórico de mensagens do chat, se você acessar <code>http://localhost:3000/mensagens</code> vai ver
que também está funcionando. É nesse <em>end-point</em> que vamos integrar nossa aplicação com o
<strong>CouchBase</strong> no próximo artigo!</p>

<p>Aí você me pergunta: porquê raios o <strong>Couchbase</strong> e não <strong>MongoDB</strong>? Porquê usar <strong>CEAN</strong> e não <strong>MEAN</strong>?</p>

<p>Eu preparei uma pequeno texto respondendo isso: <a href="/o-couchbase-e-suas-diferencas-do-mongo-db">O Couchbase e suas Diferenças do MongoDB</a>.</p>

<p>O código fonte dessa parte está <a href="https://github.com/felipeblini/CEAN-Stack-and-Socket.io-chat-tutorial/tree/part-2">neste repositório do Github</a>
dentro da branch <code>part-2</code>. Confere lá!</p>

<p>Deixe o seu comentário, dúvidas e etc… Nos vemos no próximo artigo!</p>
</section>
</article>

<div class="signature">
  <img src="img/avatar3.jpg?v=0.0.0" class="img-responsive img-circle img-avatar">
    <div class="col-sm-4 col-sm-offset-4 text-center">
      <h3>Felipe Blini</h3>
      <span>Full Stack JavaScript Developer</span>
    </div>
</div>

<!-- Disqus -->


<div class="comments">
  <div id="disqus_thread"></div>
<script type="text/javascript">
	var disqus_shortname = 'felipeblini';
	(function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>


        </div>
        <!-- ./content -->

        <div class="footer-container">
    <footer class="site-footer">
        <!-- Begin MailChimp Signup Form -->
<div id="newsletters" class="container-fluid" style="text-align: left">
<h3>Assine a newsletters:</h3></div>
<div class="container-fluid newsletter-form">
	<div id="mc_embed_signup">
		<form action="//blini.us14.list-manage.com/subscribe/post?u=5d95c9a442ffa1d9c06684340&amp;id=c06a0cc0de" method="post" id="mc-embedded-subscribe-form"
			name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
			<div id="mc_embed_signup_scroll">

				<div class="row">
					<div class="col-sm-12 col-md-5">
						<div class="mc-field-group">
							<input type="email" value="" name="EMAIL" required id="mce-EMAIL" placeholder="seu@email.com" autocomplete="false">
						</div>
					</div>
					<div class="col-sm-12 col-md-3">
						<div class="mc-field-group">
							<input type="text" value="" name="FNAME" required id="mce-FNAME" placeholder="nome" autocomplete="false">
						</div>
					</div>
					<div class="col col-sm-12 col-md-4">
						<div class="col-xs-8">
							<input type="text" value="" name="LNAME" required id="mce-LNAME" placeholder="sobrenome" autocomplete="false">
						</div>
						<div class="col col-xs-4">
							<button type="submit" name="subscribe" id="mc-embedded-subscribe" class="btn btn-default">
								Enviar
							</button>
						</div>
					</div>
				</div>
				
				<div id="mce-responses" class="clear">
					<div class="response" id="mce-error-response" style="display:none"></div>
					<div class="response" id="mce-success-response" style="display:none"></div>
				</div>

				<!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
				<div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_5d95c9a442ffa1d9c06684340_c06a0cc0de" tabindex="-1" value=""></div>
			</div>
		</form>
	</div>
</div>

<!--End mc_embed_signup-->
        
        <div class="footer">
            <div>
                <p>
                    feito com <a target="_blank" href="https://jekyllrb.com/">Jekyll</a>, <a target="_blank" href="https://pages.github.com/">GitHub Pages</a> e
                    <span style="color: red">❤</span>
                    <br />código fonte: <a target="_blank" href="https://github.com/felipeblini/blog-src">github.com/felipeblini/blog-src</a>
                </p>
            </div>

            <svg class="svg--source" width="0" height="0" aria-hidden="true">
    <!-- Twitter -->
    <symbol id="svg--twitter" viewbox="0 -7 15 30">
    <path d="M15.36 3.434c-0.542 0.241-1.124 0.402-1.735 0.476 0.624-0.374 1.103-0.966 1.328-1.67-0.583 0.346-1.23 0.598-1.917 0.733-0.551-0.587-1.336-0.954-2.205-0.954-1.668 0-3.020 1.352-3.020 3.019 0 0.237 0.026 0.467 0.078 0.688-2.51-0.126-4.735-1.328-6.224-3.155-0.261 0.446-0.41 0.965-0.41 1.518 0 1.048 0.534 1.972 1.344 2.514-0.495-0.016-0.961-0.151-1.368-0.378 0 0.013 0 0.025 0 0.038 0 1.463 1.042 2.683 2.422 2.962-0.253 0.069-0.52 0.106-0.796 0.106-0.194 0-0.383-0.018-0.568-0.054 0.384 1.2 1.5 2.073 2.821 2.097-1.034 0.81-2.335 1.293-3.75 1.293-0.244 0-0.484-0.014-0.72-0.042 1.336 0.857 2.923 1.357 4.63 1.357 5.554 0 8.592-4.602 8.592-8.593 0-0.13-0.002-0.261-0.009-0.39 0.59-0.426 1.102-0.958 1.507-1.563z" />
</symbol>

    <!-- Facebook -->
    <symbol id="svg--facebook" viewbox="0 -7 16 30">
    <path d="M12 3.303h-2.285c-0.27 0-0.572 0.355-0.572 0.831v1.65h2.857v2.352h-2.857v7.064h-2.698v-7.063h-2.446v-2.353h2.446v-1.384c0-1.985 1.378-3.6 3.269-3.6h2.286v2.503z" />
</symbol>

    <!-- github -->
    <symbol id="svg--github" viewbox="-30 -30 150 150">
    <path d="M61.896,52.548c-3.59,0-6.502,4.026-6.502,8.996c0,4.971,2.912,8.999,6.502,8.999
        c3.588,0,6.498-4.028,6.498-8.999C68.395,56.574,65.484,52.548,61.896,52.548z M84.527,29.132c0.74-1.826,0.777-12.201-3.17-22.132
        c0,0-9.057,0.993-22.76,10.396c-2.872-0.793-7.736-1.19-12.597-1.19s-9.723,0.396-12.598,1.189C19.699,7.993,10.645,7,10.645,7
        c-3.948,9.931-3.913,20.306-3.172,22.132C2.834,34.169,0,40.218,0,48.483c0,35.932,29.809,36.508,37.334,36.508
        c1.703,0,5.088,0.004,8.666,0.009c3.578-0.005,6.965-0.009,8.666-0.009C62.191,84.991,92,84.415,92,48.483
        C92,40.218,89.166,34.169,84.527,29.132z M46.141,80.574H45.86c-18.859,0-33.545-2.252-33.545-20.58
        c0-4.389,1.549-8.465,5.229-11.847c6.141-5.636,16.527-2.651,28.316-2.651c0.045,0,0.093-0.001,0.141-0.003
        c0.049,0.002,0.096,0.003,0.141,0.003c11.789,0,22.178-2.984,28.316,2.651c3.68,3.382,5.229,7.458,5.229,11.847
        C79.686,78.322,65,80.574,46.141,80.574z M30.104,52.548c-3.588,0-6.498,4.026-6.498,8.996c0,4.971,2.91,8.999,6.498,8.999
        c3.592,0,6.502-4.028,6.502-8.999C36.605,56.574,33.695,52.548,30.104,52.548z" />
</symbol>

    <!-- youtube -->
    <symbol id="svg--youtube" viewbox="-150 -150 800 800">
    <path d="M459,61.2C443.7,56.1,349.35,51,255,51c-94.35,0-188.7,5.1-204,10.2C10.2,73.95,0,163.2,0,255s10.2,181.05,51,193.8
        C66.3,453.9,160.65,459,255,459c94.35,0,188.7-5.1,204-10.2c40.8-12.75,51-102,51-193.8S499.8,73.95,459,61.2z M204,369.75v-229.5
        L357,255L204,369.75z" />
</symbol>

    <!-- Stack Overflow -->
    <symbol id="svg--stackoverflow" viewbox="100 100 800 900">
    <path d="M205.7,588.1c18.6,0,36.4,0,54.5,0c0.2,1.4,0.5,2.5,0.5,3.7c0.1,2.1,0,4.2,0,6.4c0,87.3,0,174.5,0,261.8 c0,2.5,0.1,5,0.1,7.9c1.4,0.2,2.6,0.5,3.8,0.6c1.7,0.1,3.4,0,5.1,0c134.6,0,269.2,0,403.8,0c2.7,0,5.4-0.1,8.5-0.2 			c0.2-1.6,0.3-2.8,0.4-4.1c0.1-1.9,0-3.8,0-5.7c0-87.5,0-174.9,0-262.4c0-2.5,0.1-5,0.2-7c0.5-0.6,0.7-0.8,0.8-0.9 			c0.2-0.1,0.4-0.2,0.6-0.2c16.6-0.1,33.1-0.1,49.7-0.2c0.8,0,1.7,0,2.5,0.2c0.4,0.1,0.7,0.3,1.4,0.6c0.1,0.6,0.4,1.4,0.4,2.2 			c-0.1,109.3-0.1,218.7-0.2,328c0,1.2-0.5,2.5-0.7,3.6c-5.1,0.7-524.1,0.8-530.9,0.1c-0.2-1.1-0.5-2.2-0.6-3.4 			c-0.1-1.7,0-3.4,0-5.1c0-105.7,0-211.5,0-317.2C205.6,594.2,205.7,591.5,205.7,588.1z" />
    <path d="M628.1,813.6c-1,0.3-1.6,0.7-2.2,0.7c-105.7,0.1-211.4,0.2-317.1,0.2c-0.6,0-1.2-0.3-2.1-0.6c-0.2-1-0.5-2-0.5-3 			c-0.6-13.2-0.2-60.1,0.5-64.9c1.7-1.3,3.6-0.9,5.5-0.9c13.6-0.1,27.2-0.1,40.8-0.1c88.9,0,177.9-0.1,266.8-0.1c2.5,0,5.1,0,7.8,0 			c0.4,1.6,0.9,2.8,0.9,4c0.1,20.8,0.1,41.6,0,62.4C628.5,811.9,628.3,812.6,628.1,813.6z" />
    <path d="M845.5,425c-22.7,3.9-44.8,7.8-67.2,11.7c-0.6-1.7-1.2-3-1.4-4.4c-5.7-32.8-11.3-65.6-17-98.4c-5.3-30.5-10.7-61-16-91.5 			c-4.5-25.7-8.8-51.4-13.3-77.1c-2.3-13.4-4.7-26.7-7.1-40.1c-0.3-1.6-0.3-3.3-0.5-5.3c7.4-2.4,15-2.9,22.5-4.4 			c7.3-1.4,14.6-2.6,21.9-3.8c7.5-1.3,15-2.6,22.8-3.9c0.6,1.9,1.2,3.4,1.5,5c6.4,36.6,12.7,73.1,19.1,109.7 c5.5,31.8,11,63.5,16.6,95.3c5.9,34.1,11.8,68.1,17.7,102.2C845.3,421.2,845.4,422.7,845.5,425z" />
    <path d="M308.9,696.1c2.1-23.1,4-45.4,6.3-67.7c2.5-1.5,4.8-0.7,7.1-0.5c7.8,0.7,15.6,1.4,23.4,2.2c6.8,0.6,13.5,1.3,20.3,2 c5.1,0.5,10.1,1,15.2,1.5c6.6,0.6,13.1,1.1,19.7,1.6c6.8,0.6,13.5,1.3,20.3,2c5.3,0.5,10.6,1.1,15.8,1.5c11.4,1,22.8,1.9,34.2,2.9 c11.4,1,22.8,2.3,34.2,3.3c6.5,0.6,13.1,1.1,19.7,1.7c6.8,0.6,13.5,1.3,20.3,1.9c5.3,0.5,10.5,1.1,15.8,1.6 c6.5,0.6,13.1,1,19.7,1.6c6.8,0.6,13.5,1.3,20.3,2c6.5,0.6,13.1,1.2,19.6,1.8c4.8,0.5,9.7,1,14.2,1.4c0.4,0.4,0.6,0.6,0.7,0.8 			c0.1,0.2,0.2,0.4,0.2,0.6c-1.9,22.2-3.9,44.3-5.9,66.6c-3.1,1-5.8,0.4-8.5,0.1c-7.6-0.7-15.2-1.4-22.8-2.1c-7-0.7-13.9-1.4-20.9-2 			c-5.1-0.5-10.1-1-15.2-1.5c-6.6-0.6-13.1-1-19.7-1.6c-6.8-0.6-13.5-1.3-20.3-2c-5.3-0.5-10.5-1.1-15.8-1.5 			c-11.4-1-22.8-1.9-34.2-2.9c-11.4-1-22.8-2.3-34.2-3.4c-6.5-0.6-13.1-1.1-19.7-1.7c-7-0.6-13.9-1.4-20.9-2 			c-5.1-0.5-10.1-1-15.2-1.5c-6.6-0.6-13.1-1-19.7-1.6c-6.8-0.6-13.5-1.3-20.3-2c-6.3-0.6-12.7-1.2-19-1.8 			C319.1,697.2,314.5,696.7,308.9,696.1z" />
    <path d="M765.5,440.4c-6.6,5.6-52.7,36.7-57.2,38.6c-60.2-88.2-120.4-176.5-180.8-265c0.8-0.8,1.2-1.6,1.9-2 			c17.7-12.1,35.4-24.2,53.1-36.2c0.3-0.2,0.8-0.3,1.4-0.6c2.2,1,3.1,3.2,4.3,5.1c17.1,25,34.2,50.1,51.3,75.2 c40.8,59.8,81.5,119.6,122.3,179.4C763.1,436.6,764.2,438.4,765.5,440.4z"/>
    <path d="M328.2,550.2c5.9-21.9,11.7-43.1,17.5-64.4c0.2-0.6,0.7-1,1.2-1.9c103.1,27.7,206.3,55.4,309.7,83.2c0,1.2,0.2,2.3,0,3.2 			c-5.4,20.3-10.9,40.5-16.4,60.8c-0.2,0.8-0.6,1.5-0.9,2.1c-0.5,0.2-0.7,0.3-0.9,0.3c-0.2,0-0.4,0.1-0.6,0 			c-101.8-27.4-203.6-54.7-305.4-82.1C331.2,551.2,330.1,550.8,328.2,550.2z" />
    <path d="M697.7,489.3c-11.6,19.6-23,39-34.4,58.3c-2.9,0-4.6-1.7-6.6-2.9c-45.5-26.8-91-53.6-136.5-80.4 			c-42.9-25.3-85.9-50.7-128.8-76c-1.8-1.1-3.6-2.2-5.7-3.4c0.3-0.9,0.4-1.7,0.8-2.3c10.7-18.3,21.5-36.6,32.3-54.8 			c0.4-0.7,1-1.3,1.5-1.9C425.2,327.8,692.3,485.2,697.7,489.3z" />
</symbol>
    
    <!-- Flickr -->
    <symbol id="svg--flickr" viewbox="-50 0 230.083 77.86">
    <circle cx="0" cy="50" r="40" class="red" />
    <circle cx="125" cy="50" r="40" class="blue" />
</symbol>

    <!-- LinkedIn -->
    <symbol id="svg--linkedin" viewBox="0 0 64 62.888">
    <path d="M6.902,0c-4.229,0-6.988,2.85-6.9,6.646c-0.088,3.619,2.677,6.553,6.815,6.553
    c4.313,0,7.073-2.934,7.073-6.553C13.807,2.85,11.13,0,6.902,0z M0.345,62.888h13.114V18.074H0.345V62.888z M48.906,18.705
    c-4.189,0-8.471-0.866-13.029,6.204h-0.256l-0.23-6.831H23.782c0.174,3.708,0.196,9.245,0.196,14.507v30.303h13.113V36.992
    c0-1.215,0.17-2.42,0.51-3.285c0.861-2.414,3.018-4.917,6.645-4.917c4.744,0,6.646,3.708,6.646,9.139v24.959H64V36.291
    C64,23.869,57.531,18.705,48.906,18.705z" />
</symbol>

    <!-- Codepen -->
    <symbol id="svg--codepen" viewBox="0 0 63.194 63.086">
    <polygon fill="none" stroke-width="5" stroke-linejoin="round" stroke-miterlimit="10" points="31.54,2.5 
    60.694,21.898 31.54,41.078 2.5,21.681 	" />
    <polygon fill="none" stroke-width="5" stroke-linejoin="round" stroke-miterlimit="10" points="31.54,21.789 
    60.694,41.405 31.54,60.586 2.5,41.188 	" />
    <line fill="none" stroke-width="5" stroke-linejoin="round" stroke-miterlimit="10" x1="2.5" y1="21.681" x2="2.5" y2="41.188" />
    <line fill="none" stroke-width="5" stroke-linejoin="round" stroke-miterlimit="10" x1="60.694" y1="21.681" x2="60.694" y2="41.188" />
    <line fill="none" stroke-width="5" troke-width="5" stroke-linejoin="round" stroke-miterlimit="10" x1="31.598" y1="3.809"
    x2="31.598" y2="23.315" />
    <line fill="none" stroke-width="5" stroke-linejoin="round" stroke-miterlimit="10" x1="31.598" y1="41.188" x2="31.598" y2="60.694" />
</symbol>
    
    <!-- rss -->
    <symbol id="svg--rss" viewBox="0 0 800 800">
    <path d="M493 652H392c0-134-111-244-244-244V307c189 0 345 156 345 345zm71 0c0-228-188-416-416-416V132c285 0 520 235 520 520z" />
    <circle cx="219" cy="581" r="71" />
</symbol>
    
</svg>

            <div class="social-icons-wrapper">
                <div class="social-icons">
                    <a target="_blank" href="http://twitter.com/blini369" class="share twitter">
                        <svg role="presentation" class="svg--icon">
                            <use xlink:href="#svg--twitter" />
                        </svg>
                        <span class="clip">TWITTER</span>
                    </a>

                    <a target="_blank" href="http://fb.com/blini.io" class="share facebook">
                        <svg role="presentation" class="svg--icon">
                            <use xlink:href="#svg--facebook" />
                            <span class="clip">FACEBOOK</span>
                        </svg>
                    </a>

                    <a target="_blank" href="http://github.com/felipeblini" class="share github">
                        <svg role="presentation" class="svg--icon">
                            <use xlink:href="#svg--github" />
                            <span class="clip">GITHUB</span>
                        </svg>
                    </a>

                    <!--<a target="_blank" href="" class="share youtube">
                        <svg role="presentation" class="svg--icon">
                            <use xlink:href="#svg--youtube" />
                            <span class="clip">YOUTUBE</span>
                        </svg>
                    </a>-->

                    <!--<a target="_blank" href="" class="share stackoverflow">
                        <svg role="presentation" class="svg--icon svg--icon-smaller svg--icon-st">
                            <use xlink:href="#svg--stackoverflow" />
                            <span class="clip">STACK OVERFLOW</span>
                        </svg>
                    </a>-->

                    <!--<a target="_blank" href="http://flickr.com/felipeblini" class="share flickr">
                        <svg role="presentation" class="svg--icon svg--icon-smaller">
                            <use xlink:href="#svg--flickr" />
                            <span class="clip">FLICKR</span>
                        </svg>
                    </a>-->
                    
                    <a target="_blank" href="http://br.linkedin.com/in/felipeblini" class="share linkedin">
                        <svg role="presentation" class="svg--icon svg--icon-smaller">
                            <use xlink:href="#svg--linkedin" />
                            <span class="clip">LINKEDIN</span>
                        </svg>
                    </a>

                    <a target="_blank" href="http://codepen.io/felipeblini" class="share codepen">
                        <!-- hover color changing via javascript -->
                        <svg role="presentation" class="svg--icon svg--icon-smaller">
                            <use xlink:href="#svg--codepen" />
                            <span class="clip">CODEPEN</span>
                        </svg>
                    </a>

                    <a target="_blank" href="/feed.xml" class="share rss">
                        <!-- hover color changing via javascript -->
                        <svg role="presentation" class="svg--icon svg--icon-smaller">
                            <use xlink:href="#svg--rss" />
                            <span class="clip">RSS</span>
                        </svg>
                    </a>
                </div>
            </div>
            <div class="msg-after-social-icons">
                <small>Veja como esse icones foram feitos no <a target="_blank" href="http://codepen.io/felipeblini/pen/JXpopW">Codepen</a></small>
            </div>
        </div>
    </footer>
</div>
    </div>
    <!-- ./wrap-all -->

    <script
        src="https://code.jquery.com/jquery-3.1.1.min.js"
        integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
        crossorigin="anonymous"></script>
    
    <script src="../vendors/bootstrap/js/bootstrap.min.js"></script>
    
    <script src="../vendors/prism.js"></script>
    
    <script src="/js/social-icons-hover.js"></script>
    <script src="/js/progressanim.js"></script>
    <script src="/js/slideanim.js"></script>

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../vendors/ie10-viewport-bug-workaround.js"></script>

    <!-- Google Analytics -->
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-5169802-9', 'auto');
        ga('send', 'pageview');
    </script>
    
</body>

</html>